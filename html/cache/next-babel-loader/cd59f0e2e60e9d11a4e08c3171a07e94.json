{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useRef } from 'react';\nimport Head from 'next/head';\nimport Layout from '../components/layout';\nimport useSWR from 'swr';\nimport Link from 'next/link';\nimport PlaylistDetails from '../components/playlist-details';\nimport Summary from '../components/summary';\nimport Playlist from '../components/playlist';\nimport { ScrollProvider } from '../components/scrollContext';\nimport { positions, skills, projects } from '../data';\nimport { GridPlaylist, GridLinks, Container } from '../styles/grid';\nimport * as S from '../styles/pages';\nimport { filter } from 'lodash';\n\nconst fetcher = async url => {\n  const res = await fetch(url);\n  const data = await res.json();\n\n  if (res.status !== 200) {\n    throw new Error(data.message);\n  }\n\n  return data;\n};\n\nconst Playlists = () => {\n  const {\n    0: active,\n    1: setActive\n  } = useState(null);\n  const {\n    data,\n    error\n  } = useSWR(() => `/api/spotify`, fetcher);\n\n  const handleChange = pid => {\n    setActive(active === pid ? null : pid);\n  };\n\n  return __jsx(ScrollProvider, null, __jsx(Head, null, __jsx(\"title\", null, \"Michael Weitzman\")), __jsx(Layout, null, __jsx(PlaylistDetails, {\n    close: () => setActive(null),\n    pid: active || null\n  }), __jsx(Container, null, __jsx(GridPlaylist, null, !data ? 'loading...' : error ? 'Uh oh...' : data.map((pid, i) => __jsx(S.PlaylistWrap, {\n    $active: active === pid,\n    key: pid\n  }, __jsx(Playlist, {\n    handler: handleChange,\n    active: pid === active,\n    key: i,\n    pid: pid\n  })))))));\n};\n\nexport default Playlists;","map":null,"metadata":{},"sourceType":"module"}